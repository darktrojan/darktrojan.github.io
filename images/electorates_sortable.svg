<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" viewBox="0 0 2540 2480" font-family="Open Sans, Arial, sans-serif" font-size="16">
	<title>How safe is that seat?</title>
	<style type="text/css"><![CDATA[
		.act { fill: #ffff00 }
		.alliance { fill: #00b300 }
		.green { fill: #006600 }
		.labour { fill: #ff0000 }
		.mana { fill: #b30000 }
		.maori { fill: #660000 }
		.national { fill: #0000e6 }
		.newzealandfirst { fill: #000000 }
		.progressive { fill: #999999 }
		.unitedfuture { fill: #990099 }

		.label1 { transform: translatex(8px); }
		.year1999 { transform: translatex(250px); }
		.year2002 { transform: translatex(500px); }
		.year2005 { transform: translatex(750px); }
		.year2008 { transform: translatex(1000px); }
		.year2011 { transform: translatex(1250px); }
		.year2014 { transform: translatex(1500px); }
		.year2017 { transform: translatex(1750px); }
		.year2020 { transform: translatex(2000px); }
		.label2 { transform: translatex(2258px); }
	]]></style>
	<g transform="translate(375)">
		<text x="894.029" y="41.173" font-size="28" font-weight="600" text-anchor="middle">How safe is that seat?</text>
		<text x="894.473" y="79.173" font-size="20" font-weight="600" text-anchor="middle">Electorate majorities from the last seven general elections</text>
		<text x="895.006" y="99.173" font-size="12" text-anchor="middle">(data from www.parliament.nz, electionresults.govt.nz)</text>
		<path class="national" d="M139.862 130.949H159.862V150.949H139.862z" transform="translate(290.18625,-9.1563721) translate(487.83035)"/>
		<text x="163.862" y="147.949" font-size="18" transform="translate(290.18625,-9.1563721) translate(487.83035)">National</text>
		<path class="labour" d="M254.316 130.949H274.31600000000003V150.949H254.316z" transform="translate(290.18625,-9.1563721) translate(105.17942)"/>
		<text x="278.316" y="147.949" font-size="18" transform="translate(290.18625,-9.1563721) translate(105.17942)">Labour</text>
		<path class="act" d="M358.724 130.949H378.724V150.949H358.724z" transform="translate(290.18625,-9.1563721) translate(-261.22063)"/>
		<text x="382.724" y="147.949" font-size="18" transform="translate(290.18625,-9.1563721) translate(-261.22063)">ACT</text>
		<path class="unitedfuture" d="M436.264 130.949H456.264V150.949H436.264z" transform="translate(290.18625,-9.1563721) translate(536.74136)"/>
		<text x="460.264" y="147.949" font-size="18" transform="translate(290.18625,-9.1563721) translate(536.74136)">United Future</text>
		<path class="maori" d="M596.385 130.949H616.385V150.949H596.385z" transform="translate(290.18625,-9.1563721) translate(-54.751991)"/>
		<text x="620.385" y="147.949" font-size="18" transform="translate(290.18625,-9.1563721) translate(-54.751991)">Maori</text>
		<path class="mana" d="M689.007 130.949H709.007V150.949H689.007z" transform="translate(290.18625,-9.1563721) translate(-231.66633)"/>
		<text x="713.007" y="147.949" font-size="18" transform="translate(290.18625,-9.1563721) translate(-231.66633)">Mana</text>
		<path class="progressive" d="M779.862 130.949H799.862V150.949H779.862z" transform="translate(290.18625,-9.1563721) translate(58.427208)"/>
		<text x="803.862" y="147.949" font-size="18" transform="translate(290.18625,-9.1563721) translate(58.427208)">Progressive</text>
		<path class="newzealandfirst" d="M436.264 130.949H456.264V150.949H436.264z" transform="translate(290.18625,-9.1563721) translate(299.32021)"/>
		<text x="460.264" y="147.949" font-size="18" transform="translate(290.18625,-9.1563721) translate(299.32021)">NZ First</text>
		<path class="alliance" d="M436.264 130.949H456.264V150.949H436.264z" transform="translate(290.18625,-9.1563721) translate(-267.78313)"/>
		<text x="460.264" y="147.949" font-size="18" transform="translate(290.18625,-9.1563721) translate(-267.78313)">Alliance</text>
		<path class="green" d="M436.264 130.949H456.264V150.949H436.264z" transform="translate(290.18625,-9.1563721) translate(-165.44654)"/>
		<text x="460.264" y="147.949" font-size="18" transform="translate(290.18625,-9.1563721) translate(-165.44654)">Green</text>
	</g>
	<g font-size="20" font-weight="600" style="cursor: pointer;">
		<text x="28" y="177" onclick="sort();">Electorate</text>
		<text x="270" y="177" onclick="sort(1999);">1999</text>
		<text x="520" y="177" onclick="sort(2002);">2002</text>
		<text x="770" y="177" onclick="sort(2005);">2005</text>
		<text x="1020" y="177" onclick="sort(2008);">2008</text>
		<text x="1270" y="177" onclick="sort(2011);">2011</text>
		<text x="1520" y="177" onclick="sort(2014);">2014</text>
		<text x="1770" y="177" onclick="sort(2017);">2017</text>
		<text x="2020" y="177" onclick="sort(2020);">2020</text>
		<text x="2278" y="177" onclick="sort();">Electorate</text>
	</g>
	<g fill="#eee">
		<rect x="20" y="210" width="2500" height="24"/>
		<rect x="20" y="258" width="2500" height="24"/>
		<rect x="20" y="306" width="2500" height="24"/>
		<rect x="20" y="354" width="2500" height="24"/>
		<rect x="20" y="402" width="2500" height="24"/>
		<rect x="20" y="450" width="2500" height="24"/>
		<rect x="20" y="498" width="2500" height="24"/>
		<rect x="20" y="546" width="2500" height="24"/>
		<rect x="20" y="594" width="2500" height="24"/>
		<rect x="20" y="642" width="2500" height="24"/>
		<rect x="20" y="690" width="2500" height="24"/>
		<rect x="20" y="738" width="2500" height="24"/>
		<rect x="20" y="786" width="2500" height="24"/>
		<rect x="20" y="834" width="2500" height="24"/>
		<rect x="20" y="882" width="2500" height="24"/>
		<rect x="20" y="930" width="2500" height="24"/>
		<rect x="20" y="978" width="2500" height="24"/>
		<rect x="20" y="1026" width="2500" height="24"/>
		<rect x="20" y="1074" width="2500" height="24"/>
		<rect x="20" y="1122" width="2500" height="24"/>
		<rect x="20" y="1170" width="2500" height="24"/>
		<rect x="20" y="1218" width="2500" height="24"/>
		<rect x="20" y="1266" width="2500" height="24"/>
		<rect x="20" y="1314" width="2500" height="24"/>
		<rect x="20" y="1362" width="2500" height="24"/>
		<rect x="20" y="1410" width="2500" height="24"/>
		<rect x="20" y="1458" width="2500" height="24"/>
		<rect x="20" y="1506" width="2500" height="24"/>
		<rect x="20" y="1554" width="2500" height="24"/>
		<rect x="20" y="1602" width="2500" height="24"/>
		<rect x="20" y="1650" width="2500" height="24"/>
		<rect x="20" y="1698" width="2500" height="24"/>
		<rect x="20" y="1746" width="2500" height="24"/>
		<rect x="20" y="1794" width="2500" height="24"/>
		<rect x="20" y="1842" width="2500" height="24"/>
		<rect x="20" y="1890" width="2500" height="24"/>
		<rect x="20" y="1938" width="2500" height="24"/>
		<rect x="20" y="1986" width="2500" height="24"/>
		<rect x="20" y="2034" width="2500" height="24"/>
		<rect x="20" y="2082" width="2500" height="24"/>
		<rect x="20" y="2130" width="2500" height="24"/>
		<rect x="20" y="2178" width="2500" height="24"/>
		<rect x="20" y="2226" width="2500" height="24"/>
		<rect x="20" y="2274" width="2500" height="24"/>
		<rect x="20" y="2322" width="2500" height="24"/>
		<rect x="20" y="2370" width="2500" height="24"/>
	</g>
	<g stroke-dasharray="2 2" font-size="10">
		<g id="grid">
			<path fill="none" stroke="gray" d="m 270.5,2430.5 v -2240 m 50,2240 v -2240 m 50,2240 v -2240 m 50,2240 v -2240 m 50,2240 v -2240"/>
			<text x="272.5" y="200">0</text>
			<text x="322.5" y="200">5,000</text>
			<text x="372.5" y="200">10,000</text>
			<text x="422.5" y="200">15,000</text>
			<text x="472.5" y="200">20,000</text>
			<text x="272.5" y="2430">0</text>
			<text x="322.5" y="2430">5,000</text>
			<text x="372.5" y="2430">10,000</text>
			<text x="422.5" y="2430">15,000</text>
			<text x="472.5" y="2430">20,000</text>
		</g>
		<use xlink:href="#grid" transform="translate(250,0)" />
		<use xlink:href="#grid" transform="translate(500,0)" />
		<use xlink:href="#grid" transform="translate(750,0)" />
		<use xlink:href="#grid" transform="translate(1000,0)" />
		<use xlink:href="#grid" transform="translate(1250,0)" />
		<use xlink:href="#grid" transform="translate(1500,0)" />
		<use xlink:href="#grid" transform="translate(1750,0)" />
	</g>
	<g id="data" transform="translate(20,210)"></g>
	<script	type="text/javascript" src="data.js"></script>
	<script type="text/javascript"><![CDATA[
		let data = {
			"Albany": {
				"1999": {
					"winner": "national",
					"majority": 4948
				}
			},
			"Aoraki": {
				"1999": {
					"winner": "labour",
					"majority": 7139
				},
				"2002": {
					"winner": "labour",
					"majority": 6453
				},
				"2005": {
					"winner": "national",
					"majority": 6937
				}
			},
			"Auckland Central": {
				"1999": {
					"winner": "labour",
					"majority": 5285
				},
				"2002": {
					"winner": "labour",
					"majority": 5205
				},
				"2005": {
					"winner": "labour",
					"majority": 3884
				},
				"2008": {
					"winner": "national",
					"majority": 1497
				},
				"2011": {
					"winner": "national",
					"majority": 717
				},
				"2014": {
					"winner": "national",
					"majority": 600
				},
				"2017": {
					"winner": "national",
					"majority": 1581
				}
			},
			"Banks Peninsula": {
				"1999": {
					"winner": "labour",
					"majority": 1455
				},
				"2002": {
					"winner": "labour",
					"majority": 4057
				},
				"2005": {
					"winner": "labour",
					"majority": 1923
				}
			},
			"Bay of Plenty": {
				"1999": {
					"winner": "national",
					"majority": 7102
				},
				"2002": {
					"winner": "national",
					"majority": 5597
				},
				"2005": {
					"winner": "national",
					"majority": 13584
				},
				"2008": {
					"winner": "national",
					"majority": 17604
				},
				"2011": {
					"winner": "national",
					"majority": 17760
				},
				"2014": {
					"winner": "national",
					"majority": 15096
				},
				"2017": {
					"winner": "national",
					"majority": 13996
				}
			},
			"Botany": {
				"2008": {
					"winner": "national",
					"majority": 10872
				},
				"2011": {
					"winner": "national",
					"majority": 10741
				},
				"2014": {
					"winner": "national",
					"majority": 13495
				},
				"2017": {
					"winner": "national",
					"majority": 12839
				}
			},
			"Christchurch Central": {
				"1999": {
					"winner": "labour",
					"majority": 9404
				},
				"2002": {
					"winner": "labour",
					"majority": 10353
				},
				"2005": {
					"winner": "labour",
					"majority": 7836
				},
				"2008": {
					"winner": "labour",
					"majority": 935
				},
				"2011": {
					"winner": "national",
					"majority": 47
				},
				"2014": {
					"winner": "national",
					"majority": 2420
				},
				"2017": {
					"winner": "labour",
					"majority": 2871
				}
			},
			"Christchurch East": {
				"1999": {
					"winner": "labour",
					"majority": 11162
				},
				"2002": {
					"winner": "labour",
					"majority": 14864
				},
				"2005": {
					"winner": "labour",
					"majority": 11973
				},
				"2008": {
					"winner": "labour",
					"majority": 5765
				},
				"2011": {
					"winner": "labour",
					"majority": 5334
				},
				"2014": {
					"winner": "labour",
					"majority": 4073
				},
				"2017": {
					"winner": "labour",
					"majority": 7480
				}
			},
			"Clevedon": {
				"2002": {
					"winner": "national",
					"majority": 3127
				},
				"2005": {
					"winner": "national",
					"majority": 12871
				}
			},
			"Clutha-Southland": {
				"1999": {
					"winner": "national",
					"majority": 6401
				},
				"2002": {
					"winner": "national",
					"majority": 6808
				},
				"2005": {
					"winner": "national",
					"majority": 13032
				},
				"2008": {
					"winner": "national",
					"majority": 15475
				},
				"2011": {
					"winner": "national",
					"majority": 16168
				},
				"2014": {
					"winner": "national",
					"majority": 14886
				},
				"2017": {
					"winner": "national",
					"majority": 14354
				}
			},
			"Coromandel": {
				"1999": {
					"winner": "green",
					"majority": 250
				},
				"2002": {
					"winner": "national",
					"majority": 5958
				},
				"2005": {
					"winner": "national",
					"majority": 10578
				},
				"2008": {
					"winner": "national",
					"majority": 14560
				},
				"2011": {
					"winner": "national",
					"majority": 12740
				},
				"2014": {
					"winner": "national",
					"majority": 15801
				},
				"2017": {
					"winner": "national",
					"majority": 14326
				}
			},
			"Dunedin": {},
			"Dunedin North": {
				"1999": {
					"winner": "labour",
					"majority": 12695
				},
				"2002": {
					"winner": "labour",
					"majority": 10637
				},
				"2005": {
					"winner": "labour",
					"majority": 7630
				},
				"2008": {
					"winner": "labour",
					"majority": 7155
				},
				"2011": {
					"winner": "labour",
					"majority": 3489
				},
				"2014": {
					"winner": "labour",
					"majority": 5917
				},
				"2017": {
					"winner": "labour",
					"majority": 11754
				}
			},
			"Dunedin South": {
				"1999": {
					"winner": "labour",
					"majority": 10608
				},
				"2002": {
					"winner": "labour",
					"majority": 14724
				},
				"2005": {
					"winner": "labour",
					"majority": 10640
				},
				"2008": {
					"winner": "labour",
					"majority": 6449
				},
				"2011": {
					"winner": "labour",
					"majority": 4175
				},
				"2014": {
					"winner": "labour",
					"majority": 3858
				},
				"2017": {
					"winner": "labour",
					"majority": 8717
				}
			},
			"East Coast": {
				"1999": {
					"winner": "labour",
					"majority": 3845
				},
				"2002": {
					"winner": "labour",
					"majority": 5343
				},
				"2005": {
					"winner": "national",
					"majority": 1219
				},
				"2008": {
					"winner": "national",
					"majority": 6413
				},
				"2011": {
					"winner": "national",
					"majority": 4774
				},
				"2014": {
					"winner": "national",
					"majority": 7934
				},
				"2017": {
					"winner": "national",
					"majority": 4807
				}
			},
			"East Coast Bays": {
				"2002": {
					"winner": "national",
					"majority": 1534
				},
				"2005": {
					"winner": "national",
					"majority": 7286
				},
				"2008": {
					"winner": "national",
					"majority": 13974
				},
				"2011": {
					"winner": "national",
					"majority": 14641
				},
				"2014": {
					"winner": "national",
					"majority": 15034
				},
				"2017": {
					"winner": "national",
					"majority": 16290
				}
			},
			"Epsom": {
				"1999": {
					"winner": "national",
					"majority": 1908
				},
				"2002": {
					"winner": "national",
					"majority": 5619
				},
				"2005": {
					"winner": "act",
					"majority": 3102
				},
				"2008": {
					"winner": "act",
					"majority": 12882
				},
				"2011": {
					"winner": "act",
					"majority": 2261
				},
				"2014": {
					"winner": "act",
					"majority": 4250
				},
				"2017": {
					"winner": "act",
					"majority": 5519
				}
			},
			"Hamilton East": {
				"1999": {
					"winner": "national",
					"majority": 692
				},
				"2002": {
					"winner": "labour",
					"majority": 614
				},
				"2005": {
					"winner": "national",
					"majority": 5298
				},
				"2008": {
					"winner": "national",
					"majority": 8820
				},
				"2011": {
					"winner": "national",
					"majority": 8275
				},
				"2014": {
					"winner": "national",
					"majority": 10199
				},
				"2017": {
					"winner": "national",
					"majority": 5810
				}
			},
			"Hamilton West": {
				"1999": {
					"winner": "labour",
					"majority": 1629
				},
				"2002": {
					"winner": "labour",
					"majority": 5574
				},
				"2005": {
					"winner": "labour",
					"majority": 825
				},
				"2008": {
					"winner": "national",
					"majority": 1618
				},
				"2011": {
					"winner": "national",
					"majority": 4418
				},
				"2014": {
					"winner": "national",
					"majority": 5784
				},
				"2017": {
					"winner": "national",
					"majority": 7731
				}
			},
			"Hauraki": {
				"1999": {
					"winner": "labour",
					"majority": 7238
				}
			},
			"Hauraki-Waikato": {
				"2008": {
					"winner": "labour",
					"majority": 888
				},
				"2011": {
					"winner": "labour",
					"majority": 5935
				},
				"2014": {
					"winner": "labour",
					"majority": 7695
				},
				"2017": {
					"winner": "labour",
					"majority": 9223
				}
			},
			"Helensville": {
				"2002": {
					"winner": "national",
					"majority": 1705
				},
				"2005": {
					"winner": "national",
					"majority": 12778
				},
				"2008": {
					"winner": "national",
					"majority": 20547
				},
				"2011": {
					"winner": "national",
					"majority": 21066
				},
				"2014": {
					"winner": "national",
					"majority": 18287
				},
				"2017": {
					"winner": "national",
					"majority": 14608
				}
			},
			"Hunua": {
				"1999": {
					"winner": "national",
					"majority": 5195
				},
				"2008": {
					"winner": "national",
					"majority": 15858
				},
				"2011": {
					"winner": "national",
					"majority": 16797
				},
				"2014": {
					"winner": "national",
					"majority": 17376
				},
				"2017": {
					"winner": "national",
					"majority": 19443
				}
			},
			"Hutt South": {
				"1999": {
					"winner": "labour",
					"majority": 8885
				},
				"2002": {
					"winner": "labour",
					"majority": 7771
				},
				"2005": {
					"winner": "labour",
					"majority": 5740
				},
				"2008": {
					"winner": "labour",
					"majority": 4086
				},
				"2011": {
					"winner": "labour",
					"majority": 4825
				},
				"2014": {
					"winner": "labour",
					"majority": 709
				},
				"2017": {
					"winner": "national",
					"majority": 1530
				}
			},
			"Ikaroa-Rāwhiti": {
				"1999": {
					"winner": "labour",
					"majority": 695
				},
				"2002": {
					"winner": "labour",
					"majority": 10359
				},
				"2005": {
					"winner": "labour",
					"majority": 1932
				},
				"2008": {
					"winner": "labour",
					"majority": 1645
				},
				"2011": {
					"winner": "labour",
					"majority": 6541
				},
				"2014": {
					"winner": "labour",
					"majority": 4673
				},
				"2017": {
					"winner": "labour",
					"majority": 4210
				}
			},
			"Ilam": {
				"1999": {
					"winner": "national",
					"majority": 6792
				},
				"2002": {
					"winner": "national",
					"majority": 3872
				},
				"2005": {
					"winner": "national",
					"majority": 7821
				},
				"2008": {
					"winner": "national",
					"majority": 11893
				},
				"2011": {
					"winner": "national",
					"majority": 13312
				},
				"2014": {
					"winner": "national",
					"majority": 11898
				},
				"2017": {
					"winner": "national",
					"majority": 8256
				}
			},
			"Invercargill": {
				"1999": {
					"winner": "labour",
					"majority": 7990
				},
				"2002": {
					"winner": "labour",
					"majority": 2792
				},
				"2005": {
					"winner": "national",
					"majority": 2052
				},
				"2008": {
					"winner": "national",
					"majority": 6664
				},
				"2011": {
					"winner": "national",
					"majority": 6263
				},
				"2014": {
					"winner": "national",
					"majority": 7482
				},
				"2017": {
					"winner": "national",
					"majority": 5579
				}
			},
			"Kaikōura": {
				"1999": {
					"winner": "national",
					"majority": 1486
				},
				"2002": {
					"winner": "national",
					"majority": 3069
				},
				"2005": {
					"winner": "national",
					"majority": 4675
				},
				"2008": {
					"winner": "national",
					"majority": 11077
				},
				"2011": {
					"winner": "national",
					"majority": 11445
				},
				"2014": {
					"winner": "national",
					"majority": 12570
				},
				"2017": {
					"winner": "national",
					"majority": 10553
				}
			},
			"Kaipara ki Mahurangi": {},
			"Karapiro": {
				"1999": {
					"winner": "national",
					"majority": 5216
				}
			},
			"Kelston": {
				"2014": {
					"winner": "labour",
					"majority": 5367
				},
				"2017": {
					"winner": "labour",
					"majority": 7269
				}
			},
			"Mana": {
				"1999": {
					"winner": "labour",
					"majority": 5475
				},
				"2002": {
					"winner": "labour",
					"majority": 6376
				},
				"2005": {
					"winner": "labour",
					"majority": 6734
				},
				"2008": {
					"winner": "labour",
					"majority": 6155
				},
				"2011": {
					"winner": "labour",
					"majority": 2230
				},
				"2014": {
					"winner": "labour",
					"majority": 7953
				},
				"2017": {
					"winner": "labour",
					"majority": 10980
				}
			},
			"Māngere": {
				"1999": {
					"winner": "labour",
					"majority": 13047
				},
				"2002": {
					"winner": "labour",
					"majority": 15375
				},
				"2005": {
					"winner": "labour",
					"majority": 16020
				},
				"2008": {
					"winner": "labour",
					"majority": 7126
				},
				"2011": {
					"winner": "labour",
					"majority": 15159
				},
				"2014": {
					"winner": "labour",
					"majority": 14933
				},
				"2017": {
					"winner": "labour",
					"majority": 14597
				}
			},
			"Manukau East": {
				"1999": {
					"winner": "labour",
					"majority": 7086
				},
				"2002": {
					"winner": "labour",
					"majority": 10657
				},
				"2005": {
					"winner": "labour",
					"majority": 9890
				},
				"2008": {
					"winner": "labour",
					"majority": 12445
				},
				"2011": {
					"winner": "labour",
					"majority": 15838
				},
				"2014": {
					"winner": "labour",
					"majority": 13254
				},
				"2017": {
					"winner": "labour",
					"majority": 12589
				}
			},
			"Manurewa": {
				"1999": {
					"winner": "labour",
					"majority": 13062
				},
				"2002": {
					"winner": "labour",
					"majority": 12548
				},
				"2005": {
					"winner": "labour",
					"majority": 11707
				},
				"2008": {
					"winner": "labour",
					"majority": 6726
				},
				"2011": {
					"winner": "labour",
					"majority": 8610
				},
				"2014": {
					"winner": "labour",
					"majority": 6402
				},
				"2017": {
					"winner": "labour",
					"majority": 8374
				}
			},
			"Maungakiekie": {
				"1999": {
					"winner": "labour",
					"majority": 2512
				},
				"2002": {
					"winner": "labour",
					"majority": 6603
				},
				"2005": {
					"winner": "labour",
					"majority": 6450
				},
				"2008": {
					"winner": "national",
					"majority": 1942
				},
				"2011": {
					"winner": "national",
					"majority": 3021
				},
				"2014": {
					"winner": "national",
					"majority": 2348
				},
				"2017": {
					"winner": "national",
					"majority": 2157
				}
			},
			"Mt Albert": {
				"1999": {
					"winner": "labour",
					"majority": 13108
				},
				"2002": {
					"winner": "labour",
					"majority": 16024
				},
				"2005": {
					"winner": "labour",
					"majority": 14749
				},
				"2008": {
					"winner": "labour",
					"majority": 10351
				},
				"2011": {
					"winner": "labour",
					"majority": 10021
				},
				"2014": {
					"winner": "labour",
					"majority": 10656
				},
				"2017": {
					"winner": "labour",
					"majority": 15264
				}
			},
			"Mt Roskill": {
				"1999": {
					"winner": "labour",
					"majority": 9707
				},
				"2002": {
					"winner": "labour",
					"majority": 13715
				},
				"2005": {
					"winner": "labour",
					"majority": 9895
				},
				"2008": {
					"winner": "labour",
					"majority": 6418
				},
				"2011": {
					"winner": "labour",
					"majority": 7271
				},
				"2014": {
					"winner": "labour",
					"majority": 8091
				},
				"2017": {
					"winner": "labour",
					"majority": 6898
				}
			},
			"Napier": {
				"1999": {
					"winner": "labour",
					"majority": 11863
				},
				"2002": {
					"winner": "labour",
					"majority": 4157
				},
				"2005": {
					"winner": "national",
					"majority": 3591
				},
				"2008": {
					"winner": "national",
					"majority": 9018
				},
				"2011": {
					"winner": "national",
					"majority": 3701
				},
				"2014": {
					"winner": "labour",
					"majority": 3850
				},
				"2017": {
					"winner": "labour",
					"majority": 5220
				}
			},
			"Nelson": {
				"1999": {
					"winner": "national",
					"majority": 4521
				},
				"2002": {
					"winner": "national",
					"majority": 4232
				},
				"2005": {
					"winner": "national",
					"majority": 10226
				},
				"2008": {
					"winner": "national",
					"majority": 8471
				},
				"2011": {
					"winner": "national",
					"majority": 7088
				},
				"2014": {
					"winner": "national",
					"majority": 7605
				},
				"2017": {
					"winner": "national",
					"majority": 4283
				}
			},
			"New Lynn": {
				"2002": {
					"winner": "labour",
					"majority": 11185
				},
				"2005": {
					"winner": "labour",
					"majority": 8078
				},
				"2008": {
					"winner": "labour",
					"majority": 4025
				},
				"2011": {
					"winner": "labour",
					"majority": 5190
				},
				"2014": {
					"winner": "labour",
					"majority": 4557
				},
				"2017": {
					"winner": "labour",
					"majority": 2825
				}
			},
			"New Plymouth": {
				"1999": {
					"winner": "labour",
					"majority": 15092
				},
				"2002": {
					"winner": "labour",
					"majority": 14930
				},
				"2005": {
					"winner": "labour",
					"majority": 5439
				},
				"2008": {
					"winner": "national",
					"majority": 105
				},
				"2011": {
					"winner": "national",
					"majority": 4270
				},
				"2014": {
					"winner": "national",
					"majority": 9778
				},
				"2017": {
					"winner": "national",
					"majority": 7733
				}
			},
			"North Shore": {
				"1999": {
					"winner": "national",
					"majority": 7048
				},
				"2002": {
					"winner": "national",
					"majority": 5098
				},
				"2005": {
					"winner": "national",
					"majority": 9701
				},
				"2008": {
					"winner": "national",
					"majority": 14574
				},
				"2011": {
					"winner": "national",
					"majority": 15228
				},
				"2014": {
					"winner": "national",
					"majority": 16503
				},
				"2017": {
					"winner": "national",
					"majority": 12716
				}
			},
			"Northcote": {
				"1999": {
					"winner": "labour",
					"majority": 278
				},
				"2002": {
					"winner": "labour",
					"majority": 2624
				},
				"2005": {
					"winner": "national",
					"majority": 2383
				},
				"2008": {
					"winner": "national",
					"majority": 9360
				},
				"2011": {
					"winner": "national",
					"majority": 9379
				},
				"2014": {
					"winner": "national",
					"majority": 9664
				},
				"2017": {
					"winner": "national",
					"majority": 6210
				}
			},
			"Northland": {
				"1999": {
					"winner": "national",
					"majority": 5454
				},
				"2002": {
					"winner": "national",
					"majority": 7558
				},
				"2005": {
					"winner": "national",
					"majority": 9275
				},
				"2008": {
					"winner": "national",
					"majority": 10054
				},
				"2011": {
					"winner": "national",
					"majority": 11362
				},
				"2014": {
					"winner": "national",
					"majority": 9300
				},
				"2017": {
					"winner": "national",
					"majority": 1389
				}
			},
			"Ōhāriu": {
				"2008": {
					"winner": "unitedfuture",
					"majority": 1006
				},
				"2011": {
					"winner": "unitedfuture",
					"majority": 1392
				},
				"2014": {
					"winner": "unitedfuture",
					"majority": 710
				},
				"2017": {
					"winner": "labour",
					"majority": 1051
				}
			},
			"Ohariu-Belmont": {
				"1999": {
					"winner": "unitedfuture",
					"majority": 12557
				},
				"2002": {
					"winner": "unitedfuture",
					"majority": 12534
				},
				"2005": {
					"winner": "unitedfuture",
					"majority": 7702
				}
			},
			"Otago": {
				"1999": {
					"winner": "national",
					"majority": 2367
				},
				"2002": {
					"winner": "labour",
					"majority": 684
				},
				"2005": {
					"winner": "national",
					"majority": 1995
				}
			},
			"Ōtaki": {
				"1999": {
					"winner": "labour",
					"majority": 7250
				},
				"2002": {
					"winner": "labour",
					"majority": 7736
				},
				"2005": {
					"winner": "labour",
					"majority": 382
				},
				"2008": {
					"winner": "national",
					"majority": 1354
				},
				"2011": {
					"winner": "national",
					"majority": 5231
				},
				"2014": {
					"winner": "national",
					"majority": 7782
				},
				"2017": {
					"winner": "national",
					"majority": 6156
				}
			},
			"Pakuranga": {
				"1999": {
					"winner": "national",
					"majority": 5314
				},
				"2002": {
					"winner": "national",
					"majority": 4556
				},
				"2005": {
					"winner": "national",
					"majority": 9582
				},
				"2008": {
					"winner": "national",
					"majority": 13906
				},
				"2011": {
					"winner": "national",
					"majority": 13846
				},
				"2014": {
					"winner": "national",
					"majority": 12867
				},
				"2017": {
					"winner": "national",
					"majority": 14886
				}
			},
			"Palmerston North": {
				"1999": {
					"winner": "labour",
					"majority": 13153
				},
				"2002": {
					"winner": "labour",
					"majority": 7627
				},
				"2005": {
					"winner": "labour",
					"majority": 5500
				},
				"2008": {
					"winner": "labour",
					"majority": 1117
				},
				"2011": {
					"winner": "labour",
					"majority": 3285
				},
				"2014": {
					"winner": "labour",
					"majority": 2212
				},
				"2017": {
					"winner": "labour",
					"majority": 6392
				}
			},
			"Panmure-Ōtāhuhu": {},
			"Papakura": {
				"2008": {
					"winner": "national",
					"majority": 10277
				},
				"2011": {
					"winner": "national",
					"majority": 9890
				},
				"2014": {
					"winner": "national",
					"majority": 5119
				},
				"2017": {
					"winner": "national",
					"majority": 7486
				}
			},
			"Piako": {
				"2002": {
					"winner": "national",
					"majority": 1621
				},
				"2005": {
					"winner": "national",
					"majority": 8351
				}
			},
			"Port Hills": {
				"2008": {
					"winner": "labour",
					"majority": 3452
				},
				"2011": {
					"winner": "labour",
					"majority": 3097
				},
				"2014": {
					"winner": "labour",
					"majority": 2228
				},
				"2017": {
					"winner": "labour",
					"majority": 7916
				}
			},
			"Port Waikato": {
				"1999": {
					"winner": "national",
					"majority": 3915
				},
				"2002": {
					"winner": "national",
					"majority": 5972
				},
				"2005": {
					"winner": "national",
					"majority": 13498
				}
			},
			"Rakaia": {
				"1999": {
					"winner": "national",
					"majority": 10602
				},
				"2002": {
					"winner": "national",
					"majority": 6076
				},
				"2005": {
					"winner": "national",
					"majority": 10448
				}
			},
			"Rangitata": {
				"2008": {
					"winner": "national",
					"majority": 8112
				},
				"2011": {
					"winner": "national",
					"majority": 6537
				},
				"2014": {
					"winner": "national",
					"majority": 14107
				},
				"2017": {
					"winner": "national",
					"majority": 6331
				}
			},
			"Rangitīkei": {
				"1999": {
					"winner": "national",
					"majority": 289
				},
				"2002": {
					"winner": "national",
					"majority": 5315
				},
				"2005": {
					"winner": "national",
					"majority": 9660
				},
				"2008": {
					"winner": "national",
					"majority": 12042
				},
				"2011": {
					"winner": "national",
					"majority": 9382
				},
				"2014": {
					"winner": "national",
					"majority": 11060
				},
				"2017": {
					"winner": "national",
					"majority": 10290
				}
			},
			"Remutaka": {
				"1999": {
					"winner": "labour",
					"majority": 8374
				},
				"2002": {
					"winner": "labour",
					"majority": 12615
				},
				"2005": {
					"winner": "labour",
					"majority": 8277
				},
				"2008": {
					"winner": "labour",
					"majority": 753
				},
				"2011": {
					"winner": "labour",
					"majority": 3286
				},
				"2014": {
					"winner": "labour",
					"majority": 6664
				},
				"2017": {
					"winner": "labour",
					"majority": 8609
				}
			},
			"Rodney": {
				"1999": {
					"winner": "national",
					"majority": 6905
				},
				"2002": {
					"winner": "national",
					"majority": 4566
				},
				"2005": {
					"winner": "national",
					"majority": 11536
				},
				"2008": {
					"winner": "national",
					"majority": 15635
				},
				"2011": {
					"winner": "national",
					"majority": 12222
				},
				"2014": {
					"winner": "national",
					"majority": 20230
				},
				"2017": {
					"winner": "national",
					"majority": 19561
				}
			},
			"Rongotai": {
				"1999": {
					"winner": "labour",
					"majority": 12928
				},
				"2002": {
					"winner": "labour",
					"majority": 11493
				},
				"2005": {
					"winner": "labour",
					"majority": 12638
				},
				"2008": {
					"winner": "labour",
					"majority": 9020
				},
				"2011": {
					"winner": "labour",
					"majority": 9047
				},
				"2014": {
					"winner": "labour",
					"majority": 9617
				},
				"2017": {
					"winner": "labour",
					"majority": 10900
				}
			},
			"Rotorua": {
				"1999": {
					"winner": "labour",
					"majority": 4978
				},
				"2002": {
					"winner": "labour",
					"majority": 7744
				},
				"2005": {
					"winner": "labour",
					"majority": 662
				},
				"2008": {
					"winner": "national",
					"majority": 5065
				},
				"2011": {
					"winner": "national",
					"majority": 7357
				},
				"2014": {
					"winner": "national",
					"majority": 7418
				},
				"2017": {
					"winner": "national",
					"majority": 7901
				}
			},
			"Selwyn": {
				"2008": {
					"winner": "national",
					"majority": 11075
				},
				"2011": {
					"winner": "national",
					"majority": 19451
				},
				"2014": {
					"winner": "national",
					"majority": 20561
				},
				"2017": {
					"winner": "national",
					"majority": 19639
				}
			},
			"Southland": {},
			"Taieri": {},
			"Tainui": {
				"2002": {
					"winner": "labour",
					"majority": 3430
				},
				"2005": {
					"winner": "labour",
					"majority": 1860
				}
			},
			"Takanini": {},
			"Tāmaki": {
				"1999": {
					"winner": "national",
					"majority": 4911
				},
				"2002": {
					"winner": "national",
					"majority": 1207
				},
				"2005": {
					"winner": "national",
					"majority": 9510
				},
				"2008": {
					"winner": "national",
					"majority": 17020
				},
				"2011": {
					"winner": "national",
					"majority": 17786
				},
				"2014": {
					"winner": "national",
					"majority": 20421
				},
				"2017": {
					"winner": "national",
					"majority": 15402
				}
			},
			"Tāmaki Makaurau": {
				"2002": {
					"winner": "labour",
					"majority": 9444
				},
				"2005": {
					"winner": "maori",
					"majority": 2127
				},
				"2008": {
					"winner": "maori",
					"majority": 7540
				},
				"2011": {
					"winner": "maori",
					"majority": 936
				},
				"2014": {
					"winner": "labour",
					"majority": 1462
				},
				"2017": {
					"winner": "labour",
					"majority": 3809
				}
			},
			"Taranaki-King Country": {
				"1999": {
					"winner": "national",
					"majority": 6510
				},
				"2002": {
					"winner": "national",
					"majority": 7175
				},
				"2005": {
					"winner": "national",
					"majority": 13118
				},
				"2008": {
					"winner": "national",
					"majority": 15618
				},
				"2011": {
					"winner": "national",
					"majority": 15089
				},
				"2014": {
					"winner": "national",
					"majority": 16773
				},
				"2017": {
					"winner": "national",
					"majority": 15259
				}
			},
			"Taupō": {
				"1999": {
					"winner": "labour",
					"majority": 3578
				},
				"2002": {
					"winner": "labour",
					"majority": 7128
				},
				"2005": {
					"winner": "labour",
					"majority": 1285
				},
				"2008": {
					"winner": "national",
					"majority": 6445
				},
				"2011": {
					"winner": "national",
					"majority": 14115
				},
				"2014": {
					"winner": "national",
					"majority": 15046
				},
				"2017": {
					"winner": "national",
					"majority": 14335
				}
			},
			"Tauranga": {
				"1999": {
					"winner": "newzealandfirst",
					"majority": 63
				},
				"2002": {
					"winner": "newzealandfirst",
					"majority": 10362
				},
				"2005": {
					"winner": "national",
					"majority": 730
				},
				"2008": {
					"winner": "national",
					"majority": 11742
				},
				"2011": {
					"winner": "national",
					"majority": 17264
				},
				"2014": {
					"winner": "national",
					"majority": 14842
				},
				"2017": {
					"winner": "national",
					"majority": 11252
				}
			},
			"Te Atatū": {
				"1999": {
					"winner": "labour",
					"majority": 9262
				},
				"2002": {
					"winner": "labour",
					"majority": 12932
				},
				"2005": {
					"winner": "labour",
					"majority": 10447
				},
				"2008": {
					"winner": "labour",
					"majority": 5298
				},
				"2011": {
					"winner": "labour",
					"majority": 5416
				},
				"2014": {
					"winner": "labour",
					"majority": 2813
				},
				"2017": {
					"winner": "labour",
					"majority": 3184
				}
			},
			"Te Tai Hauāuru": {
				"1999": {
					"winner": "labour",
					"majority": 6233
				},
				"2002": {
					"winner": "labour",
					"majority": 8657
				},
				"2005": {
					"winner": "maori",
					"majority": 5113
				},
				"2008": {
					"winner": "maori",
					"majority": 7817
				},
				"2011": {
					"winner": "maori",
					"majority": 3221
				},
				"2014": {
					"winner": "labour",
					"majority": 1554
				},
				"2017": {
					"winner": "labour",
					"majority": 1039
				}
			},
			"Te Tai Tokerau": {
				"1999": {
					"winner": "labour",
					"majority": 5692
				},
				"2002": {
					"winner": "labour",
					"majority": 5336
				},
				"2005": {
					"winner": "maori",
					"majority": 3613
				},
				"2008": {
					"winner": "maori",
					"majority": 6308
				},
				"2011": {
					"winner": "mana",
					"majority": 1165
				},
				"2014": {
					"winner": "labour",
					"majority": 743
				},
				"2017": {
					"winner": "labour",
					"majority": 4807
				}
			},
			"Te Tai Tonga": {
				"1999": {
					"winner": "labour",
					"majority": 4522
				},
				"2002": {
					"winner": "labour",
					"majority": 8052
				},
				"2005": {
					"winner": "labour",
					"majority": 2503
				},
				"2008": {
					"winner": "maori",
					"majority": 1049
				},
				"2011": {
					"winner": "labour",
					"majority": 1475
				},
				"2014": {
					"winner": "labour",
					"majority": 3554
				},
				"2017": {
					"winner": "labour",
					"majority": 4676
				}
			},
			"Titirangi": {
				"1999": {
					"winner": "labour",
					"majority": 5800
				}
			},
			"Tukituki": {
				"1999": {
					"winner": "labour",
					"majority": 8646
				},
				"2002": {
					"winner": "labour",
					"majority": 6410
				},
				"2005": {
					"winner": "national",
					"majority": 2402
				},
				"2008": {
					"winner": "national",
					"majority": 7811
				},
				"2011": {
					"winner": "national",
					"majority": 9660
				},
				"2014": {
					"winner": "national",
					"majority": 6490
				},
				"2017": {
					"winner": "national",
					"majority": 2813
				}
			},
			"Upper Harbour": {
				"2014": {
					"winner": "national",
					"majority": 9692
				},
				"2017": {
					"winner": "national",
					"majority": 9556
				}
			},
			"Waiariki": {
				"1999": {
					"winner": "labour",
					"majority": 4369
				},
				"2002": {
					"winner": "labour",
					"majority": 6717
				},
				"2005": {
					"winner": "maori",
					"majority": 2871
				},
				"2008": {
					"winner": "maori",
					"majority": 6812
				},
				"2011": {
					"winner": "maori",
					"majority": 1883
				},
				"2014": {
					"winner": "maori",
					"majority": 3889
				},
				"2017": {
					"winner": "labour",
					"majority": 1719
				}
			},
			"Waikato": {
				"2008": {
					"winner": "national",
					"majority": 12850
				},
				"2011": {
					"winner": "national",
					"majority": 14198
				},
				"2014": {
					"winner": "national",
					"majority": 16169
				},
				"2017": {
					"winner": "national",
					"majority": 15452
				}
			},
			"Waimakariri": {
				"1999": {
					"winner": "labour",
					"majority": 1141
				},
				"2002": {
					"winner": "labour",
					"majority": 10536
				},
				"2005": {
					"winner": "labour",
					"majority": 5606
				},
				"2008": {
					"winner": "labour",
					"majority": 390
				},
				"2011": {
					"winner": "national",
					"majority": 642
				},
				"2014": {
					"winner": "national",
					"majority": 2506
				},
				"2017": {
					"winner": "national",
					"majority": 10766
				}
			},
			"Wairarapa": {
				"1999": {
					"winner": "labour",
					"majority": 3033
				},
				"2002": {
					"winner": "labour",
					"majority": 6372
				},
				"2005": {
					"winner": "national",
					"majority": 2752
				},
				"2008": {
					"winner": "national",
					"majority": 6758
				},
				"2011": {
					"winner": "national",
					"majority": 7135
				},
				"2014": {
					"winner": "national",
					"majority": 6771
				},
				"2017": {
					"winner": "national",
					"majority": 2872
				}
			},
			"Waitakere": {
				"1999": {
					"winner": "national",
					"majority": 4056
				},
				"2002": {
					"winner": "labour",
					"majority": 2333
				},
				"2005": {
					"winner": "labour",
					"majority": 4942
				},
				"2008": {
					"winner": "national",
					"majority": 632
				},
				"2011": {
					"winner": "national",
					"majority": 9
				}
			},
			"Waitaki": {
				"2008": {
					"winner": "national",
					"majority": 11039
				},
				"2011": {
					"winner": "national",
					"majority": 14143
				},
				"2014": {
					"winner": "national",
					"majority": 16668
				},
				"2017": {
					"winner": "national",
					"majority": 12816
				}
			},
			"Wellington Central": {
				"1999": {
					"winner": "labour",
					"majority": 1482
				},
				"2002": {
					"winner": "labour",
					"majority": 4181
				},
				"2005": {
					"winner": "labour",
					"majority": 6180
				},
				"2008": {
					"winner": "labour",
					"majority": 1904
				},
				"2011": {
					"winner": "labour",
					"majority": 6376
				},
				"2014": {
					"winner": "labour",
					"majority": 8267
				},
				"2017": {
					"winner": "labour",
					"majority": 9963
				}
			},
			"West Coast-Tasman": {
				"1999": {
					"winner": "labour",
					"majority": 7378
				},
				"2002": {
					"winner": "labour",
					"majority": 7722
				},
				"2005": {
					"winner": "labour",
					"majority": 2154
				},
				"2008": {
					"winner": "national",
					"majority": 971
				},
				"2011": {
					"winner": "labour",
					"majority": 2539
				},
				"2014": {
					"winner": "labour",
					"majority": 4094
				},
				"2017": {
					"winner": "labour",
					"majority": 5593
				}
			},
			"Whanganui": {
				"1999": {
					"winner": "labour",
					"majority": 3155
				},
				"2002": {
					"winner": "labour",
					"majority": 2070
				},
				"2005": {
					"winner": "national",
					"majority": 2402
				},
				"2008": {
					"winner": "national",
					"majority": 6333
				},
				"2011": {
					"winner": "national",
					"majority": 5046
				},
				"2014": {
					"winner": "national",
					"majority": 4505
				},
				"2017": {
					"winner": "national",
					"majority": 1706
				}
			},
			"Whangaparāoa": {},
			"Whangārei": {
				"1999": {
					"winner": "national",
					"majority": 1934
				},
				"2002": {
					"winner": "national",
					"majority": 3214
				},
				"2005": {
					"winner": "national",
					"majority": 9089
				},
				"2008": {
					"winner": "national",
					"majority": 14663
				},
				"2011": {
					"winner": "national",
					"majority": 12447
				},
				"2014": {
					"winner": "national",
					"majority": 13169
				},
				"2017": {
					"winner": "national",
					"majority": 10967
				}
			},
			"Wigram": {
				"1999": {
					"winner": "alliance",
					"majority": 9885
				},
				"2002": {
					"winner": "progressive",
					"majority": 3176
				},
				"2005": {
					"winner": "progressive",
					"majority": 8548
				},
				"2008": {
					"winner": "progressive",
					"majority": 4767
				},
				"2011": {
					"winner": "labour",
					"majority": 1500
				},
				"2014": {
					"winner": "labour",
					"majority": 3330
				},
				"2017": {
					"winner": "labour",
					"majority": 4594
				}
			},
		};

		let dataEl = document.getElementById("data");
		for (let [name, results] of Object.entries(data)) {
			let group = document.createElementNS("http://www.w3.org/2000/svg", "g");

			let label1 = group.appendChild(document.createElementNS("http://www.w3.org/2000/svg", "text"));
			label1.classList.add("label1");
			label1.setAttribute("y", "20");
			label1.textContent = name;

			for (let [year, result] of Object.entries(results)) {
				let rect = group.appendChild(document.createElementNS("http://www.w3.org/2000/svg", "rect"));
				rect.classList.add(`year${year}`);
				rect.classList.add(result.winner);
				rect.setAttribute("y", "2");
				rect.setAttribute("width", result.majority / 100);
				rect.setAttribute("height", "20");
				rect.setAttributeNS("http://www.w3.org/1999/xlink", "title", result.majority);
			}

			let label2 = group.appendChild(document.createElementNS("http://www.w3.org/2000/svg", "text"));
			label2.classList.add("label2");
			label2.setAttribute("y", "20");
			label2.textContent = name;
			dataEl.appendChild(group);
		}

		sort(2017);

		function sort(year) {
			let y = 0;
			for (let row of [...document.querySelectorAll('#data > g')].sort((a, b) => {
				if (year == 0) {
					let nameA = a.querySelector('text').textContent.replace('Ō', 'O');
					let nameB = b.querySelector('text').textContent.replace('Ō', 'O');
					return nameA < nameB ? -1 : 1;
				}
				let colA = a.querySelector(`rect.year${year}`);
				let colB = b.querySelector(`rect.year${year}`);
				if (colA && !colB) {
					return -1;
				}
				if (!colA && !colB) {
					return 0;
				}
				if (!colA && colB) {
					return 1;
				}
				return parseInt(colB.getAttribute('width'), 10) - parseInt(colA.getAttribute('width'), 10);
			})) {
				row.setAttribute('transform', 'translate(0, ' + y + ')');
				y += 24;
			}
		}

		function update(data) {
			let rows = [...document.querySelectorAll('#data > g')];
			for (let a of data) {
				let row = rows.find(r => r.firstElementChild.textContent == a[0]);
				let latest = row.querySelector('rect:last-of-type');
				latest.setAttribute('width', a[2] / 100);
				latest.setAttribute('fill', colours[a[1]]);
				latest.setAttributeNS('http://www.w3.org/1999/xlink', 'title', a[2]);
			}
		}
	]]></script>
</svg>
